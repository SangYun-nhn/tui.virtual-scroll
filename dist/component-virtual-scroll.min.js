/*!
 * @fileoverview tui.component-virtual-scroll
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>
 * @version 1.0.0
 * @license MIT
 * @link https://github.nhnent.com/fe/component-virtual-scroll.git
 * bundle created at "Fri Oct 14 2016 16:54:36 GMT+0900 (KST)"
 */
!function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="/dev/",i(0)}([function(t,i,e){"use strict";var n=e(1),s=50,o=5,r=300,l=10,h={scrollTop:"scrollTop",scrollBottom:"scrollBottom"},u={height:!0,"margin-top":!0},a=tui.util.defineClass({init:function(t,i){i=i||{},i.scrollPosition=i.scrollPosition||0,this.lastRenderedScrollPosition=i.scrollPosition,this.prevScrollPosition=i.scrollPosition,this.publicEventMode=!1,this._initData(i),this.container=tui.util.isString(t)?document.getElementById(t):t,this.layout=this._renderLayout(this.container),this._renderContents(i.scrollPosition),this._attachEvent()},_updateIndexRange:function(t){var i=this.items.length,e=parseInt(t/this.itemHeight,10);this.startIndex=Math.max(e-this.spareItemCount,0),this.endIndex=Math.min(e+this.displayCount+this.spareItemCount,i)},isPlusNumber:function(t){return tui.util.isNumber(t)&&t>0},_setDisplayCount:function(t,i){var e,n=this.isPlusNumber(t);!n&&this.isPlusNumber(i)?(e=i%this.itemHeight?1:0,this.displayCount=parseInt(i/this.itemHeight,10)+e):n&&(this.displayCount=t)},_initData:function(t){var i=t.spareItemCount,e=t.itemHeight,n=t.layoutHeight,h=t.threshold;this.items=t.items||[],this.itemHeight=this.isPlusNumber(e)?e:s,this.spareItemCount=this.isPlusNumber(i)?i:o,this.threshold=this.isPlusNumber(h)?h:r,this.displayCount=l,this._setDisplayCount(t.displayCount,t.layoutHeight),this.layoutHeight=this.isPlusNumber(n)?n:this.itemHeight*this.displayCount,this.limitScrollValueForRerender=this.spareItemCount/2*this.itemHeight,this.startIndex=0,this.endIndex=0,this._updateIndexRange(t.scrollPosition)},_createCssText:function(t){return tui.util.map(t,function(t,i){var e=u[i]?"px":"";return i+":"+t+e}).join(";")},_createDivHtml:function(t,i){var e=tui.util.map(t,function(t,i){return i+'="'+t+'"'}).join(" ");return"<div "+e+">"+i+"</div>"},_renderLayout:function(t){var i;if(!t)throw new Error("Not exist HTML container");if(!tui.util.isHTMLTag(t))throw new Error("This container is not a HTML element");return i=this._createCssText({width:"100%",height:this.layoutHeight,"overflow-y":"auto","-webkit-overflow-scrolling":"touch"}),t.innerHTML=this._createDivHtml({style:i}),t.firstChild},_createItemsHtml:function(){var t=this.items.slice(this.startIndex,this.endIndex),i=this._createCssText({width:"100%",height:this.itemHeight,overflow:"hidden"});return tui.util.map(t,function(t){return this._createDivHtml({style:i},t)},this).join("")},_createItemWrapperCssText:function(t){var i=this.itemHeight,e=this.startIndex*i,n=t*i-e;return this._createCssText({width:"100%",height:n,"margin-top":e,"overflow-y":"hidden"})},_createItemWrapperHtml:function(){var t=this._createItemsHtml(),i=this._createItemWrapperCssText(this.items.length);return this._createDivHtml({style:i},t)},_renderContents:function(t){var i=this.layout;i.innerHTML=this._createItemWrapperHtml(),tui.util.isExisty(t)&&setTimeout(function(){i.scrollTop=t})},_firePublicEvent:function(t,i){this.publicEventMode||(this.fire(t,i),this.publicEventMode=!0)},_onScroll:function(){var t=this.layout.scrollTop,i=this.layout.scrollHeight-this.layout.offsetHeight,e={scrollPosition:t,scrollHeight:i};t>=i-this.threshold?this._firePublicEvent(h.scrollBottom,e):t<=this.threshold?this._firePublicEvent(h.scrollTop,e):this.publicEventMode=!1,this.prevScrollPosition=t,Math.abs(this.lastRenderedScrollPosition-t)<this.limitScrollValueForRerender||(this.lastRenderedScrollPosition=t,this._updateIndexRange(t),this._renderContents())},_attachEvent:function(){n.on(this.layout,"scroll",this._onScroll,this)},append:function(t){this.items=this.items.concat(t),this._updateIndexRange(this.layout.scrollTop),this._renderContents()},prepend:function(t){var i=this.layout.scrollTop+t.length*this.itemHeight;this.items=t.concat(this.items),this._updateIndexRange(i),this._renderContents(i)},clear:function(){this.items=[],this.layout.innerHTML=""},moveScroll:function(t){if(!tui.util.isNumber(t))throw new Error("The scroll position value should be a number type");this._updateIndexRange(t),this._renderContents(t)},getItems:function(){return this.items.slice()},getScrollPosition:function(){return this.layout.scrollTop},destroy:function(){n.off(this.layout,"scroll",this._onScroll,this),this.container.innerHTML="",this.container=null}});tui.util.CustomEvents.mixin(a),tui.util.defineNamespace("tui.component"),tui.component.VirtualScroll=a},function(t,i){"use strict";var e={},n={_attachEvent:function(t,i,n,s){var o;o=s?tui.util.bind(n,s):n,e[i+n]=o,t.attachEvent("on"+i,o)},_addEventListener:function(t,i,n,s){var o;o=s?tui.util.bind(n,s):n,e[i+n]=o,t.addEventListener(i,o)},_bindEvent:function(t,i,e,s){var o;"addEventListener"in t?o=this._addEventListener:"attachEvent"in t&&(o=this._attachEvent),n._bindEvent=o,o(t,i,e,s)},on:function(t,i,e,s){var o={};tui.util.isString(i)?o[i]=e:(o=i,s=e),tui.util.forEach(o,function(i,e){n._bindEvent(t,e,i,s)})},_detachEvent:function(t,i,n){e[i+n]&&(t.detachEvent("on"+i,e[i+n]),delete e[i+n])},_removeEventListener:function(t,i,n){t.removeEventListener(i,e[i+n]),delete e[i+n]},_unbindEvent:function(t,i,e){var s;"removeEventListener"in t?s=n._removeEventListener:"detachEvent"in t&&(s=n._detachEvent),n._unbindEvent=s,s(t,i,e)},off:function(t,i,e){var s={};tui.util.isString(i)?s[i]=e:s=i,tui.util.forEach(s,function(i,e){n._unbindEvent(t,e,i)})}};t.exports=n}]);